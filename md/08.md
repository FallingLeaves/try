# 初识小程序 07

## API

3.  文件

    - wx.saveFile(OBJECT)  
      保存文件到本地，当保存成功后，tempFilePath将不可用。

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      tempFilePath | String | 是 | 需要保存的文件的临时路径
      success | Function | 否 | 返回文件的保存路径，res = {savedFilePath: '文件的保存路径'}
      fail | Function | 否 | 接口调用失败的回调函数
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

      **本地文件的存储大小为10M**

    - wx.getFileInfo(OBJECT)  
      1.4.0开始支持，获取文件信息。

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      filePath | String | 是 | 本地文件路径
      digestAlgorithm | String | 否 | 计算文件摘要的算法，默认值 md5，有效值：md5，sha1
      success | Function | 否 | 接口调用成功的回调函数
      fail | Function | 否 | 接口调用失败的回调函数
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

      success参数说明

      参数 | 类型 | 说明
      - | - | -
      size | Number | 文件大小，单位：B
      digest | String | 按照传入的 digestAlgorithm 计算得出的的文件摘要
      errMsg | String | 调用结果

    - wx.getSavedFileList(OBJECT)  
      获取本地已保存的文件列表

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      success | Function | 否 | 接口调用成功的回调函数
      fail | Function | 否 | 接口调用失败的回调函数
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

      success返回参数说明

      参数 | 类型 | 说明
      - | - | -
      errMsg | String | 接口调用结果
      fileList | Object Array | 文件列表

    - wx.getSavedFileInfo(OBJECT)  
      获取保存到本地的文件信息，如果要获取临时文信息，使用wx.getFileInfo(OBJECT)。

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      filePath | String | 是 | 本地文件路径
      success | Function | 否 | 接口调用成功的回调函数
      fail | Function | 否 | 接口调用失败的回调函数
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

    - wx.removeSavedFile(OBJECT)  
      删除本地保存的文件。

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      filePath | String | 是 | 需要删除的文件路径
      success | Function | 否 | 接口调用成功的回调函数
      fail | Function | 否 | 接口调用失败的回调函数
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

    - wx.openDocument(OBJECT)  
      新页面打开文档，支持格式：doc, xls, ppt, pdf, docx, xlsx, pptx。  

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明 | 最低版本
      - | - | - | - | -
      filePath | String | 是 | 文件路径，可通过 downFile 获得	
      fileType | String | 否 | 文件类型，指定文件类型打开文件，有效值 doc, xls, ppt, pdf, docx, xlsx, pptx | 1.4.0
      success | Function | 否 | 接口调用成功的回调函数	
      fail | Function | 否 | 接口调用失败的回调函数	
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

4.  数据缓存

    - wx.setStorage(OBJECT)  
      将数据存储在本地缓存中指定的key中，会覆盖原来的key，是异步接口。

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      key | String | 是 | 本地缓存中的指定的 key
      data | Object/String | 是 | 需要存储的内容
      success | Function | 	接口调用成功的回调函数
      fail | Function | 否 | 接口调用失败的回调函数
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）

    - wx.setStorageSync(KEY,DATA)  
      将数据存储在本地缓存中指定的key中，会覆盖原来的key，是同步接口。

      参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      key | String | 是 | 本地缓存中的指定的 key
      data | Object/String | 是 | 需要存储的内容

    - wx.getStorage(OBJECT)  
      从本地缓存中异步获取指定key的值。

      OBJECT参数说明

      参数 | 类型 | 必填 | 说明
      - | - | - | -
      key | String | 是 | 本地缓存中的指定的 key
      success | Function | 是 | 接口调用的回调函数,res = {data: key对应的内容}
      fail | Function | 否 | 接口调用失败的回调函数
      complete | Function | 否 | 接口调用结束的回调函数（调用成功、失败都会执行）
